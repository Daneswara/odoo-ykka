<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
        <record id="view_ka_employee_filter" model="ir.ui.view">
            <field name="name">hr.ka.employee.search</field>
            <field name="model">hr.employee</field>
			<field name="inherit_id" ref="hr.view_employee_filter"/>
            <field name="arch" type="xml">
				<field name="name" position="replace">
					<field name="name"/>
					<field name="nik"/>
				</field>
				<filter name="inactive" position="replace">
					<filter name="direksi" string="Direksi" domain="[('company_id', '=', 3)]"/>
					<filter name="kebonagung" string="PG. Kebon Agung" domain="[('company_id', '=', 4)]"/>
					<filter name="trangkil" string="PG. Trangkil" domain="[('company_id', '=', 5)]"/>
				</filter>
			</field>
         </record>

		 <!-- Employee -->
		<record model="ir.ui.view" id="view_ka_employee_kanban">
			<field name="name">ka.employee.kanban</field>
			<field name="model">hr.employee</field>
			<field name="inherit_id" ref="hr.hr_kanban_view_employees"/>
			<field name="arch" type="xml">
				<xpath expr="//div[@class='o_kanban_button']" position="replace"/>
				<xpath expr="//div[@class='o_employee_summary_icons']" position="replace">
					<strong>
						<field name="nik"/>
					</strong>
				</xpath>
<!-- 				<xpath expr="/kanban/templates" position="replace">
					<templates>
						<t t-name="kanban-box">
							<div class="oe_employee_vignette">
								<div class="oe_employee_image">
									<a type="open"><img t-att-src="kanban_image('hr.employee', 'image_medium', record.id.value)" class="oe_employee_picture"/></a>
								</div>
								<div class="oe_employee_details">
									<h4>
										<a type="open">
											NIK : <field name="nik"/><br/>
											<field name="name"/>
											<t t-if="record.login.raw_value">
												(<field name="login"/>)
											</t>
										</a>
									</h4>
									<ul>
										<li><field name="company_id"/></li>
										<li><field name="department_id"/></li>
										<li><field name="job_id"/></li>
									</ul>
								</div>
							</div>
							<script>
								$('.oe_employee_picture').load(function() { if($(this).width() > $(this).height()) { $(this).addClass('oe_employee_picture_wide') } });
							</script>
						</t>
					</templates> -->
				<!-- </xpath> -->
			</field>
		</record>

		<record id="view_ka_employee_form" model="ir.ui.view">
			<field name="name">ka.employee.form</field>
			<field name="model">hr.employee</field>
			<field name="inherit_id" ref="hr.view_employee_form"/>
			<field name="arch" type="xml">
				<field name="category_ids" position="replace"/>
				<field name="company_id" position="replace"/>
				<xpath expr="//div[@class='oe_title']" position="replace">
					<div class="oe_title">
						<h1>
							<field name="nik" placeholder="N.I.K" style="width:50%%"/>
							<field name="name" placeholder="Nama Pegawai"/>
						</h1>
						<field name="category_ids" widget="many2many_tags" placeholder="e.g. Part Time" options="{'no_create_edit': True}" groups="hr.group_hr_user"/>
					</div>
				</xpath>
				<xpath expr="//button[@name='toggle_active']" position="replace"/>
				<xpath expr="//div[@name='button_box']" position="replace">
					<div class="oe_button_box" name="button_box">
						<button class="oe_stat_button" type="object" name="action_view_sp" string="SP" icon="fa-file-archive-o"/>
					</div>
				</xpath>
				<xpath expr="/form/sheet/notebook/page[1]" position="replace">
					<page string="Informasi Umum">
						<group>
							<group string="Posisi">
								<field name="company_id" groups="base.group_multi_company" string="Unit/PG"/>
								<field name="department_id" domain="[('company_id', '=', company_id)]"/>
								<field name="job_id" string="Jabatan" domain="[('company_id', '=', company_id)]"/>
								<field name="pangkat_id" domain="[('company_id', '=', company_id)]"/>
								<field name="golongan_id" domain="[('company_id', '=', company_id)]"/>
                                <field name="parent_id"/>
							</group>
							<group string="Informasi">
								<field name="work_email" widget="email"/>
								<field name="work_phone"/>
								<field name="mobile_phone"/>
								<field name="npwp"/>
							</group>
						</group>
						<field name="notes" placeholder="Catatan..." colspan="4"/>
					</page>
				</xpath>
				<xpath expr="/form/sheet/notebook/page[2]" position="replace">
					<page string="Informasi Personal">
						<group>
							<group>
								<field name="address"/>
								<field name="city"/>
								<field name="home_phone"/>
								<label for="place_birthday" />
								<div>
									<field name="place_birthday" class="oe_inline"/> /
									<field name="birthday" class="oe_inline"/>
								</div>
								<field name="gender"/>
								<field name="marital"/>
								<field name="religion"/>
							</group>
							<group>
								<field name="bank_id"/>
								<field name="acc_number"/>
								<field name="acc_name"/>
							</group>
						</group>
						<field name="employee_keluarga_ids" widget="many2one_list">
							<tree editable="bottom">
								<field name="name_keluarga"/>
								<field name="hub_keluarga_id"/>
							</tree>
						</field>
					</page>
					<page string="Data Kepegawaian">
						<group>
							<group>
								<!-- <field name="gaji_pokok"/> -->
								<field name="hub_kerja_id"/>
							</group>
							<group>
								<field name="tgl_masuk"/>
								<field name="is_tetap"/>
								<field name="tgl_tetap"/>
								<field name="pensiun"/>
								<field name="tgl_pensiun"/>
								<field name="tgl_mpp"/>
							</group>
						</group>
						<field name="employee_history_ids" widget="many2one_list">
							<tree editable="bottom">
								<field name="date_start"/>
								<field name="department_id"/>
								<field name="job_id"/>
								<field name="pangkat_id"/>
								<field name="golongan_id"/>
								<field name="company_id"/>
								<field name="notes"/>
							</tree>
						</field>
					</page>
					<!-- <page string="Tunjangan">
						<field name="employee_tunjangan_line_ids" widget="one2many_list">
							<tree editable="bottom">
								<field name="tunjangan_id"/>
								<field name="nilai_tunjangan" sum="nilai_tunjangan"/>
							</tree>
						</field>
					</page>
					<page string="Potongan">
						<field name="employee_potongan_line_ids" widget="one2many_list">
							<tree editable="bottom">
								<field name="potongan_id"/>
								<field name="nilai_potongan" sum="nilai_potongan"/>
							</tree>
						</field>
					</page> -->
					<page string="Pendidikan Formal">
						<field name="graduate_ids">
							<tree editable="bottom">
								<field name="graduate_id"/>
								<field name="lembaga"/>
								<field name="jurusan"/>
								<field name="tahun"/>
							</tree>
						</field>
					</page>
					<page string="Kursus/Workshop">
						<field name="course_ids">
							<tree editable="bottom">
								<field name="lembaga"/>
								<field name="keterangan"/>
								<field name="tahun"/>
							</tree>
						</field>
					</page>
				</xpath>
			</field>
		</record>

		<record id="action_open_employee" model="ir.actions.act_window">
			<field name="name">Karyawan Aktif</field>
			<field name="res_model">hr.employee</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,form,tree</field>
			<field name="domain">[('pensiun', '=', False)]</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Data masih kosong, input data terlebih dahulu!</p>
			</field>
		</record>
		<!--Direksi-->
		<record id="action_open_employee_direksi" model="ir.actions.act_window">
			<field name="name">Karyawan Direksi</field>
			<field name="res_model">hr.employee</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,form,tree</field>
			<field name="domain">[('pensiun', '=', False), ('company_id', '=', 3)]</field>
		</record>
		<!--Kebon Agung-->
		<record id="action_open_employee_kebonagung" model="ir.actions.act_window">
			<field name="name">Karyawan PG Kebon Agung</field>
			<field name="res_model">hr.employee</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,form,tree</field>
			<field name="domain">[('pensiun', '=', False), ('company_id', '=', 4)]</field>
		</record>
		<!--Direksi-->
		<record id="action_open_employee_trangkil" model="ir.actions.act_window">
			<field name="name">Karyawan Trangkil</field>
			<field name="res_model">hr.employee</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,form,tree</field>
			<field name="domain">[('pensiun', '=', False), ('company_id', '=', 5)]</field>
		</record>
		<record id="action_open_employee_inactive" model="ir.actions.act_window">
			<field name="name">Karyawan Pensiun</field>
			<field name="res_model">hr.employee</field>
			<field name="view_type">form</field>
			<field name="domain">[('pensiun', '=', True)]</field>
			<field name="view_mode">kanban,form,tree</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Data masih kosong, input data terlebih dahulu!</p>
			</field>
		</record>
		<record id="action_open_employee_all" model="ir.actions.act_window">
			<field name="name">Semua Karyawan</field>
			<field name="res_model">hr.employee</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,form,tree</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Data masih kosong, input data terlebih dahulu!</p>
			</field>
		</record>

		<!-- Department -->
		<record id="view_hr_department_structure" model="ir.ui.view">
			<field name="name">hr.department.structure</field>
			<field name="model">hr.department</field>
			<field name="field_parent">child_ids</field>
			<field name="arch" type="xml">
				<tree string="Companies">
					<field name="name"/>
					<field name="manager_id"/>
					<field name="company_id" string="Unit/PG" groups="base.group_multi_company"/>
				</tree>
			</field>
		</record>

		<record id="action_open_department_structure" model="ir.actions.act_window">
			<field name="name">Struktur Bagian</field>
			<field name="res_model">hr.department</field>
			<field name="view_type">tree</field>
			<field name="view_id" ref="view_hr_department_structure"/>
			<field name="domain">[('parent_id','=',False)]</field>
		</record>



		<!-- <menuitem action="action_open_hr_job_tree" id="menu_sdm_job_tree" parent="hr.menu_human_resources_configuration" sequence="5"/> -->
		<!-- <menuitem action="action_open_department_structure" id="menu_sdm_department_stru" parent="hr.menu_hr_main" sequence="6"/> -->

		<!-- <menuitem id="hr_document" name="Dokumen" parent="hr.menu_hr_root" sequence="7"/> -->
		<!-- <menuitem action="action_open_document_legal" id="menu_hr_perijinan" name="Perijinan" parent="hr_document"/> -->
		<!-- <menuitem action="action_open_document_asset" id="menu_hr_asset" name="Aset" parent="hr_document"/> -->
		<!-- <menuitem action="action_open_document_kerjasama" id="menu_hr_kerjasama" name="Perjanjian Kerjasama" parent="hr_document"/> -->

		<!--Modif User View-->
		<record model="ir.ui.view" id="view_logistik_base_stasiun_users" >
			<field name="name">analytic.account.stasiun.users</field>
			<field name="model">res.users</field>
			<field name="inherit_id" ref="base.view_users_form"/>
			<field name="arch" type="xml">
				<field name="partner_id" position="before">
					<field name="department_ids" widget="many2many_tags"/>
				</field>
			</field>
		</record>

		<menuitem action="action_open_employee" id="menu_sdm_employee" parent="sub_menu_sdm" sequence="1"/>
		<menuitem action="action_open_employee_inactive" id="menu_sdm_employee_inactive" parent="sub_menu_sdm" sequence="2"/>
		<menuitem action="action_open_employee_all" id="menu_sdm_employee_all" parent="sub_menu_sdm" sequence="3"/>
		<menuitem action="action_open_department_structure" id="menu_sdm_department_stru" parent="sub_menu_sdm" sequence="4"/>
	</data>
</odoo>