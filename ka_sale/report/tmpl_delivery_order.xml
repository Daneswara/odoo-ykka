<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>	

		<report 
            id="delivery_slip_ka" 
            model="stock.picking"
            string="Surat Jalan (Retail)"
            report_type="qweb-pdf"
            name="ka_sale.template_delivery_slip"
            file="ka_sale.template_delivery_slip"
			menu="False"         
        />
							 
		<template id="template_delivery_slip">
			<t t-foreach="docs" t-as="o">
				<div class="row">
					<t t-call="ka_sale.delivery_slip_document"/>
				</div>
			</t>
		</template>

		<template id="delivery_slip_document">
			<t t-call="report.html_container">
				<t t-set="o" t-value="o.with_context({'lang':o.partner_id.lang})"/>
				<br></br>
					<div class="header">
						<div class="container" position="fixed" style="font-family: Arial, Helvetica, sans-serif;">
							<div class="row">
								<div class="col-xs-6" style="font-size:12px;">
									<table width="100%" style="margin:0px;font-size:12px;">
										<tr>
											<td colspan="2">
												<div class="row" style="min-height:107px"></div>
											</td>
										</tr>
										<tr>
											<td width="69px" class="text-left">No.</td>
											<td style="padding:1px 10px 3px 10px"><span t-esc="o.name"/></td>
										</tr>
										<tr>
											<td width="69px" class="text-left">Nopol.</td>
											<td style="padding:1px 10px 3px 10px"><span t-esc="o.timbangan_id.truck_id"/></td>
										</tr>
									</table>
								</div>
								<div class="col-xs-6" style="font-size:12px;">
									<table width="100%" style="margin:0px;font-size:12px;">
										<tbody>
											<tr>
												<td width="56px" class="text-left">Tgl Order</td>
												<td style="padding:2px 10px"><span t-field="o.sale_id.date_order" t-field-options='{"format": "dd-MM-yyyy"}'/></td>
												<td width="65px" class="text-left">Kode Cust</td>
												<td width="90px" style="padding:3px 10px"><span t-esc="o.partner_id.code"/></td>
											</tr>
											<tr>
												<td width="56px" class="text-left">Kpd Yth</td>
												<td colspan="3">
													<p style="padding:2px 10px; min-height:65px">
														<span t-esc="o.partner_id.name"/><br></br>
														<span t-esc="o.partner_id.street"/><br></br>
														<span t-esc="o.partner_id.street2"/><br></br>
														<span t-esc="o.partner_id.city"/>
													</p>
												</td>
											</tr>
											<tr>
												<td width="56px" class="text-left">Pemesan</td>
												<td style="padding:2px 10px"><span t-esc="o.agent_partner_id.name"/></td>
												<td width="65px" class="text-left">HP</td>
												<td width="80px">
													<div class="row" style="padding:1px 10px;">
														<span t-esc="o.agent_partner_id.mobile"/>
													</div>
												</td>
											</tr>
											<tr>
												<td width="56px" class="text-left">Telp</td>
												<td style="padding:2px 10px"><span t-esc="o.agent_partner_id.phone"/></td>
												<td width="65px" class="text-left">Fax</td>
												<td width="80px">
													<div class="row" style="padding-left: 12px; margin-top:0px;">
														<span t-esc="o.agent_partner_id.fax"/>
													</div>
												</td>
											</tr>

										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
					<!-- END OF HEADER -->

					<div class="page" style="font-family: Arial, Helvetica, sans-serif;">
						<t t-set="idx" t-value="0"/>
						<div class="row">
							<div class="col-xs-12" style="margin:60px 10px 0px 10px;">
								<p class="text-center">
									<strong>SURAT JALAN PENGIRIMAN BARANG</strong><br/><span style="padding:0px 180px;border-top:1.5px solid #000;"></span>
								</p>
							</div>
						</div>

						<div class="row" name="product_lines">
							<div class="col-xs-12" style="margin-top:-20px;">
								<table width="100%" style="margin-bottom:0px;font-size:12px;border-collapse: collapse;">
									<thead>
										<tr height="20px">
											<th style="padding: 2px; border: 1px solid #000;" width="30px" class="text-center">No</th>
											<th style="padding: 2px; border: 1px solid #000;" width="268px" class="text-center">Nama Barang</th>
											<th style="padding: 2px; border: 1px solid #000;" width="79px" class="text-center">No. Kode</th>
											<th style="padding: 2px; border: 1px solid #000;" width="79px" class="text-center">Qty Dos</th>
											<th style="padding: 2px; border: 1px solid #000;" width="79px" class="text-center">Qty Kg</th>
											<th style="padding: 2px; border: 1px solid #000;" width="139px" class="text-center">Keterangan</th>
										</tr>
									</thead>
									<tbody>
										<tr t-foreach="o.get_rows()[idx]" t-as="move" height="20px" style="padding: 2px; border: 0.8px solid #000;">
											<td  class="text-right" width="30px" style="vertical-align:middle; padding: 0px 2px; border: 1px solid #000;">
												<div t-if="move['name'] != ''" style="padding-left: 2px;">
												    <span t-esc="move['no']"/>
												</div>
											</td>
			                                <td width="268px" style="vertical-align:middle; padding: 0px 2px; border: 1px solid #000;">
			                                	<div style="padding-left: 2px;">
			                                		<span t-esc="move['name']"/>
			                                	</div>
			                                </td>
			                                <td width="79px" style="vertical-align:middle; padding: 0px 2px; border: 1px solid #000;">
			                                	<div style="padding-left: 2px;">
			                                		<span t-esc="move['code']"/>
			                                	</div>
			                                </td>
			                                <td width="79px" style="vertical-align:middle; padding: 0px 2px; border: 1px solid #000;">
			                                	<div style="padding-left: 2px;">
			                                		<span t-esc="move['qty_dos']"/>
			                                	</div>
			                                </td>
			                                <td width="79px" style="vertical-align:middle; padding: 0px 2px; border: 1px solid #000;">
			                                	<div style="padding-left: 2px;">
			                                		<span t-esc="move['qty_kg']"/>
			                                	</div>
			                                </td>
			                                <td width="139px" style="vertical-align:middle; padding: 0px 2px; border: 1px solid #000;">
			                                	<div style="padding-left: 2px;"></div>
			                                </td>
			                            </tr>
									</tbody>
									<tbody t-if="idx != o.max_array-1">
					            		 <tr height="20px">
					                        <td class="text-right" colspan="6">	
					                        	<div ><span></span></div>
											</td>
										</tr>
					            	</tbody>
								</table>
								<t t-set="idx" t-value="idx+1"/>

								<table width="100%" style="margin-top:-1px;padding-top:15px;font-size:12px;border-collapse: collapse;border-bottom:1px solid #000;">
									<tbody>
										<tr>
											<td style="padding:0px;">
												<table width="100%" style="margin:0px;">
													<tbody>
														<tr height="72px" style="border-left:1px solid #000;border-right:1px solid #000;">
															<td style="padding-left:10px; padding-top:0px;" colspan="2">
																Lokasi Kirim :
																	<span t-field="o.partner_id.street"/><br></br>
																	<span t-field="o.partner_id.street2"/><br></br>
																	<span t-field="o.partner_id.city"/>
															</td>
														</tr>
														<tr min-height="19.5px" style="border: 1px solid #000;">
															<td style="padding:2px 2px 2px 10px;" colspan="2">
																CP : 
																<span t-esc="o.agent_partner_id.name"/>
															</td>
														</tr>
														<tr min-height="19.5px" style="border: 1px solid #000;">
															<td width="52%" style="padding: 2px 10px; ">
																Tgl Brg Diterima
															</td>
															<td style="padding: 2px">
																: <span t-field="o.date_done" t-field-options='{"format": "dd-MM-yyyy"}'/>
															</td>
														</tr>
														<tr min-height="19.5px" style="border: 1px solid #000;">
															<td width="52%" style="padding: 2px 10px; ">
																Tgl Jatuh Tempo
															</td>
															<td style="padding: 2px">
																: <span t-field="o.min_date" t-field-options='{"format": "dd-MM-yyyy"}'/>
															</td>
														</tr>
														<tr min-height="19.5px" style="border-left:1px solid #000;border-right:1px solid #000;">
															<td width="52%" style="padding: 2px 10px;">
																Cara Bayar
															</td>
															<td style="padding: 2px;">
																: TRANSFER
															</td>
														</tr>
														<tr min-height="19.5px" style="border-left:1px solid #000;border-right:1px solid #000;">
															<td colspan="2" style="padding: 2px 10px 0px 10px;">
																<span style="padding:0px 140px;border-top:1px dashed #000;"></span><br/>
																<p style="margin-top:-10px; padding-bottom:0px;">
																	Bank Mandiri Cabang Surabaya Margorejo<br></br>
																	a/c 142-00-93-666666 a/n PT. KEBON AGUNG
																</p>
															</td>
														</tr>
													</tbody>
												</table>
											</td>
											<td style="padding:0px;" width="16%">
												<table width="100%" style="margin:0px;">
													<tbody>
														<tr style="border-right:1px solid #000; border-bottom:1px solid #000; vertical-align:middle;">
															<td class="text-center" style="padding:1px 5px;">Pembeli / Penerima</td>
														</tr>
														<tr height="157px" style="border-right:1px solid #000;">
															<td></td>
														</tr>
														<tr min-height="19.5px" style="border-top: 1px dashed #000;border-right:1px solid #000;">
															<td class="text-center" style="padding:3px;">
																TTD, Nama &amp; Stempel
															</td>
														</tr>
													</tbody>
												</table>
											</td>
											<td style="padding:0px;" width="16%">
												<table width="100%" style="margin:0px;">
													<tbody>
														<tr style="border-right:1px solid #000; border-bottom:1px solid #000; vertical-align:middle;">
															<td class="text-center" style="padding:1px 5px;">Pengirim</td>
														</tr>
														<tr height="157px" style="border-right:1px solid #000;">
															<td></td>
														</tr>
														<tr min-height="19.5px" style="border-top: 1px dashed #000;border-right:1px solid #000;">
															<td class="text-center" style="padding:3px;">
																TTD, Nama &amp; Stempel
															</td>
														</tr>
													</tbody>
												</table>
											</td>
											<td style="padding:0px;" width="16%">
												<table width="100%" style="margin:0px;">
													<tbody>
														<tr style="border-right:1px solid #000; border-bottom:1px solid #000; vertical-align:middle;">
															<td class="text-center" style="padding:1px 5px;">Gudang</td>
														</tr>
														<tr height="157px" style="border-right:1px solid #000;">
															<td></td>
														</tr>
														<tr min-height="19.5px" style="border-top: 1px dashed #000;border-right:1px solid #000;">
															<td class="text-center" style="padding:3px;">
																TTD, Nama &amp; Stempel
															</td>
														</tr>
													</tbody>
												</table>
											</td>
											<td style="padding:0px;" width="16%">
												<table width="100%" style="margin:0px;">
													<tbody>
														<tr style="border-right:1px solid #000; border-bottom:1px solid #000; vertical-align:middle;">
															<td class="text-center" style="padding:1px 5px;">Penjual</td>
														</tr>
														<tr height="157px" style="border-right:1px solid #000;">
															<td></td>
														</tr>
														<tr min-height="19.5px" style="border-top: 1px dashed #000;border-right:1px solid #000;">
															<td class="text-center" style="padding:3px;">
																TTD, Nama &amp; Stempel
															</td>
														</tr>
													</tbody>
												</table>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
			</t>
		</template>
	</data>
</odoo>