<odoo>
	<data>
		<record model="ir.module.category" id="logistik_spm_category">
			<field name="name">LOG3 - Permintaan Material</field>
			<field name="description">Permintaan Material</field>
		</record>

		<record model="res.groups" id="ka_logistik_spm.group_user">
			<field name="name">User</field>
			<field name="category_id" ref="logistik_spm_category"/>
		</record>

		<record model="res.groups" id="ka_logistik_spm.group_creator">
			<field name="name">Mengajukan SPM</field>
			<field name="category_id" ref="logistik_spm_category"/>
			<field name="implied_ids" eval="[(4, ref('ka_logistik_spm.group_user'))]"/>
		</record>

		<record model="ir.module.category" id="logistik_spm_policy">
			<field name="name">Kewenangan SPM</field>
			<field name="description">Kewenangan SPM</field>
		</record>
		
		<record model="res.groups" id="ka_logistik_spm.group_approval">
			<field name="name">Menyetujui SPM dari PG</field>
			<field name="category_id" ref="logistik_spm_policy"/>
			<field name="implied_ids" eval="[(4, ref('ka_logistik_spm.group_user'))]"/>
		</record>

		<record model="res.groups" id="ka_logistik_spm.group_validator">
			<field name="name">Validasi SPM dari User</field>
			<field name="category_id" ref="logistik_spm_policy"/>
			<field name="implied_ids" eval="[(4, ref('ka_logistik_spm.group_user'))]"/>
		</record>
		<record model="res.groups" id="ka_logistik_spm.group_spm_direksi">
			<field name="name">Mengatur SPM Direksi</field>
			<field name="category_id" ref="ka_logistik_spm.logistik_spm_policy"/>
		</record>
		<record model="res.groups" id="ka_logistik_spm.group_spm_pabrik">
			<field name="name">Mengatur SPM Pabrik</field>
			<field name="category_id" ref="ka_logistik_spm.logistik_spm_policy"/>
		</record>
		<record model="res.groups" id="ka_logistik_spm.group_spm_edit_pengadaan">
			<field name="name">Mengubah Jenis SP</field>
			<field name="category_id" ref="ka_logistik_spm.logistik_spm_policy"/>
		</record>
		
		<!-- #################################################################### -->

		<record id="logistik_pengajuan_spm_comp_rule" model="ir.rule">
    	    <field name="name" >Pengajuan SPM</field>
    	    <field name="model_id" ref="model_logistik_pengajuan_spm"/>
    	    <field name="global" eval="True"/>
    	    <field name="domain_force">[('seksi_id','child_of', [s.id for s in user.department_ids])]</field>
    	    <!-- <field name="domain_force"> ['|',('operating_unit_id','child_of',[user.default_operating_unit_id.id]),('operating_unit_id','=',False), ('department_id','child_of', [s.id for s in user.department_ids])]</field> -->
    	    <!-- <field name="domain_force"> ['|',('operating_unit_id','child_of',[user.default_operating_unit_id.id]),('operating_unit_id','=',False), ('department_id','child_of', [s.id for s in user.department_ids])]</field> -->
	    </record>
    	<record id="logistik_spm_comp_rule" model="ir.rule">
    	    <field name="name" >SPM</field>
    	    <field name="model_id" ref="model_logistik_spm"/>
    	    <field name="global" eval="True"/>
    	    <field name="domain_force"> ['|',('operating_unit_id','child_of',[user.default_operating_unit_id.id]),('operating_unit_id','=',False)]</field>
	    </record>
    	<record id="logistik_spm_line_comp_rule" model="ir.rule">
    	    <field name="name" >SPM Line</field>
    	    <field name="model_id" ref="model_logistik_spm_lines"/>
    	    <field name="global" eval="True"/>
    	    <field name="domain_force">[('stasiun_id','child_of', [s.id for s in user.stasiun_ids])]</field>
    	    <!-- <field name="domain_force"> ['|',('operating_unit_id','child_of',[user.default_operating_unit_id.id]),('operating_unit_id','=',False)]</field> -->
    	    <!-- <field name="domain_force"> ['|',('operating_unit_id','child_of',[user.default_operating_unit_id.id]),('operating_unit_id','=',False), ('department_id','child_of', [s.id for s in user.department_ids])]</field> -->
	    </record>
	</data>
</odoo>